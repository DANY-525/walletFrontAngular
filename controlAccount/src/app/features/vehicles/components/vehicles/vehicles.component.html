<section>
  <button (click)="addVehicle()">Add Vehicle</button>

  <table>
    <thead>
      <tr>
        <th>Owner ID</th>
        <th>Brand</th>
        <th>Model</th>
        <th>Year</th>
        <th>Plate #</th>
        <th>VIN</th>
        <th>Color</th>
        <th>Engine</th>
        <th>Mileage</th>
        <th>Created</th>
        <th>Updated</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let v of vehicleList; let i = index">
        <td>{{ v.owner_id }}</td>
        <td>{{ v.brand }}</td>
        <td>{{ v.model }}</td>
        <td>{{ v.year | date:'yyyy' }}</td>
        <td>{{ v.plate_number }}</td>
        <td>{{ v.vin }}</td>
        <td>{{ v.color }}</td>
        <td>{{ v.engine_type }}</td>
        <td>{{ v.mileage }}</td>
        <td>{{ v.created_at | date:'short' }}</td>
        <td>{{ v.udpate_at | date:'short' }}</td>
        <td>
          <button (click)="editVehicle(i)">Edit</button>
          <button (click)="deleteVehicle(i)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <aside *ngIf="addForm || editForm" class="form-wrapper">
    <form #form="ngForm" (ngSubmit)="addForm ? submitForm() : updateForm()" class="account-form">
      <h3>{{ addForm ? 'Add Vehicle' : 'Edit Vehicle' }}</h3>

      <label>Owner ID: <input [(ngModel)]="vehicle.owner_id" name="owner_id" required></label>
      <label>Brand: <input [(ngModel)]="vehicle.brand" name="brand" required></label>
      <label>Model: <input [(ngModel)]="vehicle.model" name="model" required></label>
      <label>Year: <input type="date" [(ngModel)]="vehicle.year" name="year" required></label>
      <label>Plate #: <input [(ngModel)]="vehicle.plate_number" name="plate_number" required></label>
      <label>VIN: <input [(ngModel)]="vehicle.vin" name="vin" required></label>
      <label>Color: <input [(ngModel)]="vehicle.color" name="color" required></label>
      <label>Engine Type: <input [(ngModel)]="vehicle.engine_type" name="engine_type" required></label>
      <label>Mileage: <input [(ngModel)]="vehicle.mileage" name="mileage" required></label>

      <button type="submit">{{ addForm ? 'Add' : 'Update' }}</button>
      <button type="button" (click)="cancelForm()">Cancel</button>
    </form>
  </aside>
</section>
